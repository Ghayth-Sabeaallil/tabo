import{a as te,g as ne,R as C,r as s}from"./index-C8Nfhqle.js";var G=te(),H,$;function re(){return $||($=1,H=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),H}var oe=re();const ie=ne(oe);function x(){return x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x.apply(null,arguments)}function P(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function se(t){var e=ae(t,"string");return typeof e=="symbol"?e:e+""}const T={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},le="https://maps.googleapis.com/maps/api/js";class D{static async load(e,n){var r;const o=e.libraries?e.libraries.split(","):[],i=this.serializeParams(e);this.listeners.push(n),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=T.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=i,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==i&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const a=["maps",...o];await Promise.all(a.map(l=>google.maps.importLibrary(l)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((o,i)=>{var a;const l=document.createElement("script"),f=new URLSearchParams;for(const[d,c]of Object.entries(e)){const h=d.replace(/[A-Z]/g,m=>"_"+m[0].toLowerCase());f.set(h,String(c))}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),l.async=!0,l.src=le+"?"+f.toString(),l.nonce=((a=document.querySelector("script[nonce]"))==null?void 0:a.nonce)||"",l.onerror=()=>{this.loadingStatus=T.FAILED,this.notifyLoadingStatusListeners(),i(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=T.LOADED,this.notifyLoadingStatusListeners(),o()},window.gm_authFailure=()=>{this.loadingStatus=T.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=T.LOADING,this.notifyLoadingStatusListeners(),document.head.append(l)}),n);google.maps.importLibrary=o=>r().then(()=>google.maps.importLibrary(o))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}D.loadingStatus=T.NOT_LOADED;D.serializedApiParams=void 0;D.listeners=[];const ue=["onLoad","onError","apiKey","version","libraries"],ce=["children"],de="GMP_visgl_rgmlibrary_v1_default",N=C.createContext(null);function fe(){const[t,e]=s.useState({});return{mapInstances:t,addMapInstance:(i,a="default")=>{e(l=>x({},l,{[a]:i}))},removeMapInstance:(i="default")=>{e(a=>P(a,[i].map(se)))},clearMapInstances:()=>{e({})}}}function me(t){const{onLoad:e,onError:n,apiKey:r,version:o,libraries:i=[]}=t,a=P(t,ue),[l,f]=s.useState(D.loadingStatus),[d,c]=s.useReducer((u,g)=>u[g.name]?u:x({},u,{[g.name]:g.value}),{}),h=s.useMemo(()=>i==null?void 0:i.join(","),[i]),m=s.useMemo(()=>JSON.stringify(x({apiKey:r,version:o},a)),[r,o,a]),p=s.useCallback(async u=>{var g;if(d[u])return d[u];if(!((g=google)!=null&&(g=g.maps)!=null&&g.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const O=await window.google.maps.importLibrary(u);return c({name:u,value:O}),O},[d]);return s.useEffect(()=>{(async()=>{try{const u=x({key:r},a);o&&(u.v=o),(h==null?void 0:h.length)>0&&(u.libraries=h),(u.channel===void 0||u.channel<0||u.channel>999)&&delete u.channel,u.solutionChannel===void 0?u.solutionChannel=de:u.solutionChannel===""&&delete u.solutionChannel,await D.load(u,g=>f(g));for(const g of["core","maps",...i])await p(g);e&&e()}catch(u){n?n(u):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",u)}})()},[r,h,m]),{status:l,loadedLibraries:d,importLibrary:p}}const Xe=t=>{const{children:e}=t,n=P(t,ce),{mapInstances:r,addMapInstance:o,removeMapInstance:i,clearMapInstances:a}=fe(),{status:l,loadedLibraries:f,importLibrary:d}=me(n),c=s.useMemo(()=>({mapInstances:r,addMapInstance:o,removeMapInstance:i,clearMapInstances:a,status:l,loadedLibraries:f,importLibrary:d}),[r,o,i,a,l,f,d]);return C.createElement(N.Provider,{value:c},e)};function ge(t,e){for(const n of ye){const r=e[n],o=V[n];s.useEffect(()=>{if(!t||!r)return;const i=google.maps.event.addListener(t,o,a=>{r(pe(o,t,a))});return()=>i.remove()},[t,o,r])}}function pe(t,e,n){const r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(he.includes(t)){const i=r,a=e.getCenter(),l=e.getZoom(),f=e.getHeading()||0,d=e.getTilt()||0,c=e.getBounds();return(!a||!c||!Number.isFinite(l))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),i.detail={center:(a==null?void 0:a.toJSON())||{lat:0,lng:0},zoom:l||0,heading:f,tilt:d,bounds:(c==null?void 0:c.toJSON())||{north:90,east:180,south:-90,west:-180}},i}else if(ve.includes(t)){var o;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const i=r;return i.domEvent=n.domEvent,i.stoppable=!0,i.stop=()=>n.stop(),i.detail={latLng:((o=n.latLng)==null?void 0:o.toJSON())||null,placeId:n.placeId},i}return r}const V={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},he=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],ve=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],ye=Object.keys(V);function U(t,e){const n=s.useRef(void 0);(!n.current||!ie(e,n.current))&&(n.current=e),s.useEffect(t,n.current)}const Ce=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function Ee(t,e){const n={},r=Object.keys(e);for(const o of r)Ce.has(o)&&(n[o]=e[o]);U(()=>{t&&t.setOptions(n)},[n])}function K(){var t;return((t=s.useContext(N))==null?void 0:t.status)||T.NOT_LOADED}function Oe(t,e){const{viewport:n,viewState:r}=e,o=!!n;return s.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:i,longitude:a,bearing:l,pitch:f,zoom:d}=r;t.moveCamera({center:{lat:i,lng:a},heading:l,tilt:f,zoom:d+1})},[t,r]),o}function be(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function Y(t){return be(t)?t:t.toJSON()}function we(t,e,n){const r=n.center?Y(n.center):null;let o=null,i=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(o=r.lat,i=r.lng);const a=Number.isFinite(n.zoom)?n.zoom:null,l=Number.isFinite(n.heading)?n.heading:null,f=Number.isFinite(n.tilt)?n.tilt:null;s.useLayoutEffect(()=>{if(!t)return;const d={};let c=!1;o!==null&&i!==null&&(e.current.center.lat!==o||e.current.center.lng!==i)&&(d.center={lat:o,lng:i},c=!0),a!==null&&e.current.zoom!==a&&(d.zoom=a,c=!0),l!==null&&e.current.heading!==l&&(d.heading=l,c=!0),f!==null&&e.current.tilt!==f&&(d.tilt=f,c=!0),c&&t.moveCamera(d)})}const Le=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return C.createElement("div",{style:t},C.createElement("h2",null,"Error: AuthFailure"),C.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",C.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function Me(){const[t,e]=s.useState(null),n=s.useCallback(r=>e(r),[e]);return[t,n]}function X(){return K()===T.LOADED}function Se(){const[,t]=s.useReducer(e=>e+1,0);return t}function Ie(t,e){const n=t.getCenter(),r=t.getZoom(),o=t.getHeading()||0,i=t.getTilt()||0,a=t.getBounds();(!n||!a||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:o,tilt:i})}function _e(t){const e=Se(),n=s.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return s.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{Ie(t,n),e()});return()=>r.remove()},[t,e]),n}const xe=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],Te=["padding"];class R{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}R.entries={};function Pe(t,e){const n=X(),[r,o]=s.useState(null),[i,a]=Me(),l=_e(r),{id:f,defaultBounds:d,defaultCenter:c,defaultZoom:h,defaultHeading:m,defaultTilt:p,reuseMaps:u,renderingType:g,colorScheme:O}=t,v=P(t,xe),E=t.zoom!==void 0||t.defaultZoom!==void 0,w=t.center!==void 0||t.defaultCenter!==void 0;!d&&(!E||!w)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!v.center&&c&&(v.center=c),!v.zoom&&Number.isFinite(h)&&(v.zoom=h),!v.heading&&Number.isFinite(m)&&(v.heading=m),!v.tilt&&Number.isFinite(p)&&(v.tilt=p);for(const y of Object.keys(v))v[y]===void 0&&delete v[y];const M=s.useRef(void 0);return s.useEffect(()=>{if(!i||!n)return;const{addMapInstance:y,removeMapInstance:b}=e,{mapId:S}=t,I=`${S||"default"}:${g||"default"}:${O||"LIGHT"}`;let _,L;if(u&&R.has(I)?(L=R.pop(I),_=L.getDiv(),i.appendChild(_),L.setOptions(v),setTimeout(()=>L.setCenter(L.getCenter()),0)):(_=document.createElement("div"),_.style.height="100%",i.appendChild(_),L=new google.maps.Map(_,x({},v,g?{renderingType:g}:{},O?{colorScheme:O}:{}))),o(L),y(L,f),d){const{padding:k}=d,B=P(d,Te);L.fitBounds(B,k)}else(!E||!w)&&L.fitBounds({east:180,west:-180,south:-90,north:90});if(M.current){const{mapId:k,cameraState:B}=M.current;k!==S&&L.setOptions(B)}return()=>{M.current={mapId:S,cameraState:l.current},_.remove(),u?R.push(I,L):google.maps.event.clearInstanceListeners(L),o(null),b(f)}},[i,n,f,t.mapId,t.renderingType,t.colorScheme]),[r,a,l]}const Q=C.createContext(null),ke=t=>{const{children:e,id:n,className:r,style:o}=t,i=s.useContext(N),a=K();if(!i)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[l,f,d]=Pe(t,i);we(l,d,t),ge(l,t),Ee(l,t);const c=Oe(l,t),h=!!t.controlled;s.useEffect(()=>{if(l)return c&&l.setOptions({disableDefaultUI:!0}),(c||h)&&l.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{l.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[l,c,h,t.gestureHandling,t.keyboardShortcuts]);const m=t.center?Y(t.center):null;let p=null,u=null;m&&Number.isFinite(m.lat)&&Number.isFinite(m.lng)&&(p=m.lat,u=m.lng);const g=s.useMemo(()=>{var E,w,M,y,b;return{center:{lat:(E=p)!=null?E:0,lng:(w=u)!=null?w:0},zoom:(M=t.zoom)!=null?M:0,heading:(y=t.heading)!=null?y:0,tilt:(b=t.tilt)!=null?b:0}},[p,u,t.zoom,t.heading,t.tilt]);s.useLayoutEffect(()=>{if(!l||!h)return;l.moveCamera(g);const E=l.addListener("bounds_changed",()=>{l.moveCamera(g)});return()=>E.remove()},[l,h,g]);const O=s.useMemo(()=>x({width:"100%",height:"100%",position:"relative",zIndex:c?-1:0},o),[o,c]),v=s.useMemo(()=>({map:l}),[l]);return a===T.AUTH_FAILURE?C.createElement("div",{style:x({position:"relative"},r?{}:O),className:r},C.createElement(Le,null)):C.createElement("div",x({ref:f,"data-testid":"map",style:r?void 0:O,className:r},n?{id:n}:{}),l?C.createElement(Q.Provider,{value:v},e):null)};ke.deckGLViewProps=!0;const q=new Set;function Ae(...t){const e=JSON.stringify(t);q.has(e)||(q.add(e),console.error(...t))}const Z=(t=null)=>{const e=s.useContext(N),{map:n}=s.useContext(Q)||{};if(e===null)return Ae("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function ee(t){const e=X(),n=s.useContext(N);return s.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function A(t,e,n){s.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function F(t,e,n){s.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}function W(t,e,n){s.useEffect(()=>{if(!(!t||!e||!n))return t.addEventListener(e,n),()=>t.removeEventListener(e,n)},[t,e,n])}function De(t){return t.content!==void 0}function Ne(t){return t.nodeType===Node.ELEMENT_NODE}const Fe=C.createContext(null),Re={TOP_LEFT:["0%","0%"],TOP_CENTER:["50%","0%"],TOP:["50%","0%"],TOP_RIGHT:["100%","0%"],LEFT_CENTER:["0%","50%"],LEFT_TOP:["0%","0%"],LEFT:["0%","50%"],LEFT_BOTTOM:["0%","100%"],RIGHT_TOP:["100%","0%"],RIGHT:["100%","50%"],RIGHT_CENTER:["100%","50%"],RIGHT_BOTTOM:["100%","100%"],BOTTOM_LEFT:["0%","100%"],BOTTOM_CENTER:["50%","100%"],BOTTOM:["50%","100%"],BOTTOM_RIGHT:["100%","100%"],CENTER:["50%","50%"]},ze=({children:t,styles:e,className:n,anchorPoint:r})=>{const[o,i]=r??Re.BOTTOM,a=`translate(50%, 100%) translate(-${o}, -${i})`;return C.createElement("div",{style:{transform:a}},C.createElement("div",{className:n,style:e},t))};function Be(t){const[e,n]=s.useState(null),[r,o]=s.useState(null),i=Z(),a=ee("marker"),{children:l,onClick:f,className:d,onMouseEnter:c,onMouseLeave:h,onDrag:m,onDragStart:p,onDragEnd:u,collisionBehavior:g,clickable:O,draggable:v,position:E,title:w,zIndex:M}=t,y=s.Children.count(l);return s.useEffect(()=>{if(!i||!a)return;const b=new a.AdvancedMarkerElement;b.map=i,n(b);let S=null;return y>0&&(S=document.createElement("div"),S.isCustomMarker=!0,b.content=S,o(S)),()=>{var I;b.map=null,(I=S)==null||I.remove(),n(null),o(null)}},[i,a,y]),s.useEffect(()=>{!e||!e.content||y>0||(e.content.className=d||"")},[e,d,y]),F(e,"position",E),F(e,"title",w??""),F(e,"zIndex",M),F(e,"collisionBehavior",g),s.useEffect(()=>{e&&(v!==void 0?e.gmpDraggable=v:m||p||u?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,v,m,u,p]),s.useEffect(()=>{if(!e)return;const b=O!==void 0||!!f||!!c||!!h;e.gmpClickable=b,b&&e!=null&&e.content&&Ne(e.content)&&(e.content.style.pointerEvents="none",e.content.firstElementChild&&(e.content.firstElementChild.style.pointerEvents="all"))},[e,O,f,c,h]),A(e,"click",f),A(e,"drag",m),A(e,"dragstart",p),A(e,"dragend",u),W(e==null?void 0:e.element,"mouseenter",c),W(e==null?void 0:e.element,"mouseleave",h),[e,r]}const Qe=s.forwardRef((t,e)=>{const{children:n,style:r,className:o,anchorPoint:i}=t,[a,l]=Be(t),f=s.useMemo(()=>a?{marker:a}:null,[a]);return s.useImperativeHandle(e,()=>a,[a]),l?C.createElement(Fe.Provider,{value:f},G.createPortal(C.createElement(ze,{anchorPoint:i,styles:r,className:o},n),l)):null});function He(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=t.style;if(n==null){if(e==null)return;for(const o in e)e.hasOwnProperty(o)&&J(r,o,e[o]);return}for(const o in n)n.hasOwnProperty(o)&&(e==null||!e.hasOwnProperty(o))&&(o.indexOf("--")===0?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="");if(e!=null)for(const o in e){const i=e[o];e.hasOwnProperty(o)&&n[o]!==i&&J(r,o,i)}}function J(t,e,n){const r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n=="number"&&n!==0&&!Ge(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const je=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function Ge(t){return je.has(t)}const Ue=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],et=t=>{const{children:e,headerContent:n,style:r,className:o,pixelOffset:i,anchor:a,shouldFocus:l,onClose:f,onCloseClick:d}=t,c=P(t,Ue),h=ee("maps"),[m,p]=s.useState(null),u=s.useRef(null),g=s.useRef(null);s.useEffect(()=>{if(!h)return;u.current=document.createElement("div"),g.current=document.createElement("div");const E=c;i&&(E.pixelOffset=new google.maps.Size(i[0],i[1])),n&&(E.headerContent=typeof n=="string"?n:g.current);const w=new google.maps.InfoWindow(c);return w.setContent(u.current),p(w),()=>{var M,y;w.setContent(null),(M=u.current)==null||M.remove(),(y=g.current)==null||y.remove(),u.current=null,g.current=null,p(null)}},[h]);const O=s.useRef(null);s.useEffect(()=>{!m||!u.current||(He(u.current,r||null,O.current),O.current=r||null,o!==u.current.className&&(u.current.className=o||""))},[m,o,r]),U(()=>{if(!m)return;const E=c;i?E.pixelOffset=new google.maps.Size(i[0],i[1]):E.pixelOffset=null,n?E.headerContent=typeof n=="string"?n:g.current:E.headerContent=null,m.setOptions(c)},[c,i,n]),A(m,"close",f),A(m,"closeclick",d);const v=Z();return U(()=>{if(!v||!m||a===null)return;const E=!!a,w={map:v};if(a&&(w.anchor=a,De(a)&&a.content instanceof Element)){const y=a.content,b=y==null?void 0:y.getBoundingClientRect();if(b&&y!=null&&y.isCustomMarker){var M;const S=(M=a.content.firstElementChild)==null?void 0:M.firstElementChild,I=S==null?void 0:S.getBoundingClientRect(),_=I.x-b.x+(I.width-b.width)/2,L=I.y-b.y,k=c;k.pixelOffset=new google.maps.Size(i?i[0]+_:_,i?i[1]+L:L),m.setOptions(k)}}return l!==void 0&&(w.shouldFocus=l),m.open(w),()=>{E&&m.set("anchor",null),m.close()}},[m,a,v,l,c,i]),C.createElement(C.Fragment,null,u.current&&G.createPortal(e,u.current),g.current!==null&&G.createPortal(n,g.current))},Ze=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function $e(t){const[e,n]=s.useState(null),r=Z(),{onClick:o,onDrag:i,onDragStart:a,onDragEnd:l,onMouseOver:f,onMouseOut:d}=t,c=P(t,Ze),{position:h,draggable:m}=c;return s.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const p=new google.maps.Marker(c);return p.setMap(r),n(p),()=>{p.setMap(null),n(null)}},[r]),s.useEffect(()=>{if(!e)return;const p=e,u=google.maps.event;return o&&u.addListener(p,"click",o),i&&u.addListener(p,"drag",i),a&&u.addListener(p,"dragstart",a),l&&u.addListener(p,"dragend",l),f&&u.addListener(p,"mouseover",f),d&&u.addListener(p,"mouseout",d),e.setDraggable(!!m),()=>{u.clearInstanceListeners(p)}},[e,m,o,i,a,l,f,d]),s.useEffect(()=>{e&&c&&e.setOptions(c)},[e,c]),s.useEffect(()=>{m||!h||!e||e.setPosition(h)},[m,h,e]),e}const tt=s.forwardRef((t,e)=>{const n=$e(t);return s.useImperativeHandle(e,()=>n,[n]),C.createElement(C.Fragment,null)});function nt(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}var qe={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function We(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return qe[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function j(t){var e=We(t);return"".concat(e.value).concat(e.unit)}var Je=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var i=o.sheet,a=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return i&&i.insertRule(a,0),r},z=function(){return z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},z.apply(this,arguments)},Ve=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Ke=Je("SyncLoader",`33% {transform: translateY(10px)}
  66% {transform: translateY(-10px)}
  100% {transform: translateY(0)}`,"sync");function rt(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,o=r===void 0?"#000000":r,i=t.speedMultiplier,a=i===void 0?1:i,l=t.cssOverride,f=l===void 0?{}:l,d=t.size,c=d===void 0?15:d,h=t.margin,m=h===void 0?2:h,p=Ve(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),u=z({display:"inherit"},f),g=function(O){return{backgroundColor:o,width:j(c),height:j(c),margin:j(m),borderRadius:"100%",display:"inline-block",animation:"".concat(Ke," ").concat(.6/a,"s ").concat(O*.07,"s infinite ease-in-out"),animationFillMode:"both"}};return n?s.createElement("span",z({style:u},p),s.createElement("span",{style:g(1)}),s.createElement("span",{style:g(2)}),s.createElement("span",{style:g(3)})):null}export{Qe as A,et as I,ke as M,rt as S,Xe as a,tt as b,ie as e,nt as f,Z as u};
